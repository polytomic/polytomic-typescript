/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as environments from "./environments";
import * as core from "./core";
import { BulkSync } from "./api/resources/bulkSync/client/Client";
import { Connections } from "./api/resources/connections/client/Client";
import { QueryRunner } from "./api/resources/queryRunner/client/Client";
import { Schemas } from "./api/resources/schemas/client/Client";
import { Models } from "./api/resources/models/client/Client";
import { ModelSync } from "./api/resources/modelSync/client/Client";
import { Events } from "./api/resources/events/client/Client";
import { Jobs } from "./api/resources/jobs/client/Client";
import { Identity } from "./api/resources/identity/client/Client";
import { Notifications } from "./api/resources/notifications/client/Client";
import { Organization } from "./api/resources/organization/client/Client";
import { Users } from "./api/resources/users/client/Client";
import { Webhooks } from "./api/resources/webhooks/client/Client";
import { Permissions } from "./api/resources/permissions/client/Client";

export declare namespace PolytomicClient {
    export interface Options {
        environment?: core.Supplier<environments.PolytomicEnvironment | string>;
        /** Specify a custom URL to connect the client to. */
        baseUrl?: core.Supplier<string>;
        token: core.Supplier<core.BearerToken>;
        /** Override the X-Polytomic-Version header */
        version?: core.Supplier<string | undefined>;
    }

    export interface RequestOptions {
        /** The maximum time to wait for a response in seconds. */
        timeoutInSeconds?: number;
        /** The number of times to retry the request. Defaults to 2. */
        maxRetries?: number;
        /** A hook to abort the request. */
        abortSignal?: AbortSignal;
        /** Override the X-Polytomic-Version header */
        version?: string | undefined;
        /** Additional headers to include in the request. */
        headers?: Record<string, string>;
    }
}

export class PolytomicClient {
    protected _bulkSync: BulkSync | undefined;
    protected _connections: Connections | undefined;
    protected _queryRunner: QueryRunner | undefined;
    protected _schemas: Schemas | undefined;
    protected _models: Models | undefined;
    protected _modelSync: ModelSync | undefined;
    protected _events: Events | undefined;
    protected _jobs: Jobs | undefined;
    protected _identity: Identity | undefined;
    protected _notifications: Notifications | undefined;
    protected _organization: Organization | undefined;
    protected _users: Users | undefined;
    protected _webhooks: Webhooks | undefined;
    protected _permissions: Permissions | undefined;

    constructor(protected readonly _options: PolytomicClient.Options) {}

    public get bulkSync(): BulkSync {
        return (this._bulkSync ??= new BulkSync(this._options));
    }

    public get connections(): Connections {
        return (this._connections ??= new Connections(this._options));
    }

    public get queryRunner(): QueryRunner {
        return (this._queryRunner ??= new QueryRunner(this._options));
    }

    public get schemas(): Schemas {
        return (this._schemas ??= new Schemas(this._options));
    }

    public get models(): Models {
        return (this._models ??= new Models(this._options));
    }

    public get modelSync(): ModelSync {
        return (this._modelSync ??= new ModelSync(this._options));
    }

    public get events(): Events {
        return (this._events ??= new Events(this._options));
    }

    public get jobs(): Jobs {
        return (this._jobs ??= new Jobs(this._options));
    }

    public get identity(): Identity {
        return (this._identity ??= new Identity(this._options));
    }

    public get notifications(): Notifications {
        return (this._notifications ??= new Notifications(this._options));
    }

    public get organization(): Organization {
        return (this._organization ??= new Organization(this._options));
    }

    public get users(): Users {
        return (this._users ??= new Users(this._options));
    }

    public get webhooks(): Webhooks {
        return (this._webhooks ??= new Webhooks(this._options));
    }

    public get permissions(): Permissions {
        return (this._permissions ??= new Permissions(this._options));
    }
}
